# -*- coding: utf-8 -*-
"""
게임 상수 및 설정 파일
Animal Tower Stacking Game - Constants & Configuration
"""

import os

# ============================================================================
# 화면 설정 (Screen Settings)
# ============================================================================
SCREEN_WIDTH = 800
SCREEN_HEIGHT = 600
FPS = 60
GAME_TITLE = "동물 탑 쌓기 (Animal Tower Stacking)"

# ============================================================================
# 물리 설정 (Physics Settings)
# ============================================================================
GRAVITY = (0, 900)  # 중력 (x, y) - y가 양수면 아래로
PHYSICS_STEPS = 10  # 프레임당 물리 시뮬레이션 스텝 수
DAMPING = 0.7  # 공간 감쇠 (0~1, 낮을수록 더 빨리 멈춤)

# 동물 물리 속성
ANIMAL_MASS = 10  # 기본 질량
ANIMAL_FRICTION = 0.8  # 마찰 계수 (0~1, 높을수록 미끄러짐 방지)
ANIMAL_ELASTICITY = 0.05  # 탄성 계수 (0~1, 낮을수록 덜 튐)

# 플랫폼 물리 속성
PLATFORM_FRICTION = 0.95  # 플랫폼 마찰 (높을수록 미끄러짐 방지)
PLATFORM_ELASTICITY = 0.02  # 플랫폼 탄성 (낮을수록 덜 튐)

# ============================================================================
# 게임플레이 설정 (Gameplay Settings)
# ============================================================================
SPAWN_Y = 80  # 동물 스폰 Y 위치 (화면 상단에서)
MOVE_SPEED = 5  # 좌우 이동 속도
DROP_IMPULSE = 50  # 드롭 시 추가 아래쪽 힘

# 안착 판정
SETTLE_VELOCITY_THRESHOLD = 30  # 이 속도 이하면 안착으로 판정
SETTLE_TIME = 0.5  # 이 시간(초) 동안 느린 상태 유지 시 안착

# 게임 오버 판정
GAME_OVER_Y = SCREEN_HEIGHT + 100  # 이 Y좌표 아래로 떨어지면 게임 오버
GAME_OVER_X_MARGIN = 200  # 화면 좌우 이 범위 밖으로 나가면 게임 오버

# ============================================================================
# 카메라 설정 (Camera Settings)
# ============================================================================
MIN_ZOOM = 0.35  # 최소 줌 (멀리 줌아웃)
MAX_ZOOM = 1.0  # 최대 줌 (기본)
ZOOM_SPEED = 0.02  # 줌 변화 속도 (보간)
CAMERA_SMOOTH = 0.05  # 카메라 이동 부드러움

# ============================================================================
# 동물 이미지 설정 (Animal Image Settings)
# ============================================================================
BASE_PATH = os.path.dirname(os.path.abspath(__file__))
IMAGES_PATH = os.path.join(BASE_PATH, "animal_tower_images")

ANIMAL_IMAGES = [
    "bear.png",
    "dog.png",
    "fox.png",
    "hamster.png",
    "panda.png",
    "pig.png",
    "rabit.png",
    "rakun.png",
    "squirrel.png"
]

# 동물 이미지 스케일 (원본 대비 비율)
ANIMAL_SCALE = 0.15  # 15% 크기로 축소

# ============================================================================
# 색상 정의 (Color Definitions)
# ============================================================================
WHITE = (255, 255, 255)
BLACK = (0, 0, 0)
SKY_BLUE = (135, 206, 235)
SKY_BLUE_LIGHT = (200, 230, 250)
GRASS_GREEN = (124, 185, 100)
GRASS_DARK = (90, 150, 70)
GROUND_BROWN = (139, 119, 101)
UI_BG = (50, 50, 70, 200)  # 반투명 UI 배경
UI_BORDER = (100, 100, 130)
SCORE_COLOR = (255, 220, 100)
TITLE_COLOR = (80, 60, 120)
BUTTON_COLOR = (100, 180, 100)
BUTTON_HOVER = (130, 210, 130)
BUTTON_TEXT = (255, 255, 255)

# ============================================================================
# UI 설정 (UI Settings)
# ============================================================================
NEXT_PREVIEW_SIZE = (100, 100)  # 다음 동물 미리보기 박스 크기
NEXT_PREVIEW_POS = (SCREEN_WIDTH - 120, 20)  # 미리보기 위치
SCORE_POS = (20, 20)  # 점수 표시 위치

# ============================================================================
# 게임 상태 (Game States)
# ============================================================================
class GameState:
    MENU = "menu"
    PLAYING = "playing"
    GAME_OVER = "game_over"

# ============================================================================
# 플랫폼 설정 (Platform Settings)
# ============================================================================
PLATFORM_WIDTH = 300
PLATFORM_HEIGHT = 30
PLATFORM_Y = SCREEN_HEIGHT - 80  # 플랫폼 Y 위치
